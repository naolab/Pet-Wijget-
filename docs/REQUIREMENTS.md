# ğŸ¾ ãƒšãƒƒãƒˆå†™çœŸã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã‚¢ãƒ—ãƒª è¦ä»¶å®šç¾©æ›¸ï¼ˆä»®ç§°:PetWidget)

## 1. èƒŒæ™¯ã¨ç›®çš„

iPhoneã®ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆæ©Ÿèƒ½ã‚’æ´»ç”¨ã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€Œãƒšãƒƒãƒˆã¨å…±ã«éã”ã™æ™‚é–“ã€ã‚’æ—¥å¸¸çš„ã«æ„Ÿã˜ã‚‰ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚‹ã“ã¨ã‚’ç›®çš„ã¨ã—ãŸã‚¢ãƒ—ãƒªã€‚
å˜ãªã‚‹æ™‚è¨ˆãƒ»æ—¥ä»˜è¡¨ç¤ºã«ã¨ã©ã¾ã‚‰ãšã€**ãƒšãƒƒãƒˆã®å†™çœŸãƒ»åå‰ãƒ»å¹´é½¢(äººé–“æ›ç®—å«ã‚€)ã‚’è‡ªç”±ã«ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã§ãã‚‹**ã“ã¨ã‚’ç‰¹å¾´ã¨ã™ã‚‹ã€‚

---

## 2. é–‹ç™ºç›®æ¨™(MVP)

| ã‚«ãƒ†ã‚´ãƒª | è¦ä»¶å†…å®¹ |
|-----------|-----------|
| ğŸ¶ ãƒšãƒƒãƒˆç™»éŒ² | ãƒšãƒƒãƒˆã®å†™çœŸãƒ»åå‰ãƒ»ç”Ÿå¹´æœˆæ—¥ãƒ»ç¨®åˆ¥(çŠ¬/çŒ«ãªã©)ã‚’ç™»éŒ²å¯èƒ½ |
| ğŸ•’ æ™‚è¨ˆãƒ»æ—¥ä»˜è¡¨ç¤º | ç¾åœ¨æ™‚åˆ»(12/24håˆ‡æ›¿)ã€æ—¥ä»˜(å’Œæš¦ãƒ»è¥¿æš¦å¯¾å¿œ)ã‚’è¡¨ç¤º |
| ğŸ“… å¹´é½¢è¨ˆç®— | ç™»éŒ²ç”Ÿå¹´æœˆæ—¥ã‹ã‚‰è‡ªå‹•ã§å¹´é½¢ã‚’ç®—å‡º(å¹´æœˆå˜ä½) |
| ğŸ‘¤ äººé–“æ›ç®—å¹´é½¢ | ç¨®åˆ¥ã”ã¨ã®æ›ç®—å¼ã§è¡¨ç¤º(ä¾‹:3æ­³=äººé–“28æ­³) |
| ğŸ–¼ï¸ ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆç·¨é›† | è¡¨ç¤ºé …ç›®ON/OFFãƒ»æ–‡å­—ã‚µã‚¤ã‚ºãƒ»é…ç½®ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½ |
| ğŸ§ ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆåŒ– | ãƒ›ãƒ¼ãƒ ç”»é¢ã«ã‚¹ãƒ¢ãƒ¼ãƒ«/ãƒŸãƒ‡ã‚£ã‚¢ãƒ /ãƒ©ãƒ¼ã‚¸ã§é…ç½®å¯èƒ½ |
| ğŸ’¾ ãƒ‡ãƒ¼ã‚¿ä¿æŒ | App GroupçµŒç”±ã§ã‚¢ãƒ—ãƒªã¨ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆé–“ã®ãƒ‡ãƒ¼ã‚¿å…±æœ‰ |
| ğŸ¾ å¤šé ­å¯¾å¿œ | è¤‡æ•°ãƒšãƒƒãƒˆç™»éŒ²ãŠã‚ˆã³ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã”ã¨ã®åˆ‡æ›¿å¯èƒ½ |

---

## 3. ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆæ¦‚è¦

```
+-------------------+
|  iOSãƒ›ãƒ¼ãƒ ç”»é¢    |
| [WidgetKitè¡¨ç¤º]   |
|  â”œ æ™‚è¨ˆãƒ»æ—¥ä»˜     |
|  â”œ ãƒšãƒƒãƒˆå†™çœŸ ğŸ¾  |
|  â”” åå‰ãƒ»å¹´é½¢     |
+---------â–²---------+
          â”‚ App Groupå…±æœ‰
+---------â–¼---------+
|  PetWidget App    |
| SwiftUIè¨­å®šç”»é¢   |
|  â”œ ãƒšãƒƒãƒˆæƒ…å ±å…¥åŠ› |
|  â”œ ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆç·¨é›† |
|  â”” ãƒ†ãƒ¼ãƒé¸æŠ     |
+-------------------+
```

---

## 4. æ©Ÿèƒ½è¦ä»¶

### 4.1 ãƒšãƒƒãƒˆç™»éŒ²æ©Ÿèƒ½

- åå‰ã€èª•ç”Ÿæ—¥ã€ç¨®åˆ¥(çŠ¬/çŒ«/ãã®ä»–)ã€å†™çœŸã‚’ç™»éŒ²
- ç”Ÿå¹´æœˆæ—¥ã‹ã‚‰å¹´é½¢ã‚’è‡ªå‹•ç®—å‡º
- å†™çœŸã¯ `PhotosPicker` ã‹ã‚‰é¸æŠã—ã€ç«¯æœ«ãƒ­ãƒ¼ã‚«ãƒ«ã«ä¿å­˜

### 4.2 è¡¨ç¤ºæ©Ÿèƒ½(ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆ)

- è¡¨ç¤ºé …ç›®:å†™çœŸã€åå‰ã€å¹´é½¢ã€äººé–“æ›ç®—å¹´é½¢ã€æ™‚åˆ»ã€æ—¥ä»˜
- ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã‚µã‚¤ã‚ºåˆ¥ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆå¯¾å¿œ(Small/Medium/Large)
- TimelineProvider ã«ã‚ˆã‚‹1åˆ†å˜ä½ã®æ™‚åˆ»æ›´æ–°

### 4.3 ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ©Ÿèƒ½

- è¡¨ç¤ºé …ç›®ã®ON/OFF
- æ–‡å­—ã‚µã‚¤ã‚ºãƒ»ãƒ•ã‚©ãƒ³ãƒˆã‚«ãƒ©ãƒ¼ãƒ»é…ç½®ã‚’å¤‰æ›´
- å†™çœŸã®æ å½¢çŠ¶(å††å½¢/è§’ä¸¸)
- èƒŒæ™¯ãƒ†ãƒ¼ãƒ(ãƒ©ã‚¤ãƒˆ/ãƒ€ãƒ¼ã‚¯/ã‚«ã‚¹ã‚¿ãƒ ã‚«ãƒ©ãƒ¼/å†™çœŸ)

### 4.4 å¤šé ­å¯¾å¿œ

- è¤‡æ•°ãƒšãƒƒãƒˆã®ç™»éŒ²
- å„ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã§è¡¨ç¤ºã™ã‚‹ãƒšãƒƒãƒˆã‚’å€‹åˆ¥ã«æŒ‡å®š

### 4.5 ãƒ‡ãƒ¼ã‚¿ä¿æŒ

- ã‚¢ãƒ—ãƒªå†…è¨­å®šå€¤ã¨ãƒšãƒƒãƒˆæƒ…å ±ã‚’ `CoreData` ã§ç®¡ç†
- App GroupçµŒç”±ã§ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã«ãƒ‡ãƒ¼ã‚¿å…±æœ‰
- ãƒ‡ãƒ¼ã‚¿ã¯ç«¯æœ«ãƒ­ãƒ¼ã‚«ãƒ«ã«ã®ã¿ä¿å­˜

---

## 5. éæ©Ÿèƒ½è¦ä»¶

| ã‚«ãƒ†ã‚´ãƒª | è¦ä»¶å†…å®¹ |
|-----------|-----------|
| å¯¾å¿œOS | iOS 16ä»¥é™ |
| é–‹ç™ºç’°å¢ƒ | Xcode 16, Swift 5.10 ä»¥é™ |
| è¨€èª | SwiftUI + WidgetKit |
| æ›´æ–°é »åº¦ | ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã¯æœ€å¤§15åˆ†é–“éš”ã§è‡ªå‹•æ›´æ–°(æ™‚åˆ»ã¯æ¯åˆ†å†æç”») |
| ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ | å†™çœŸãƒ‡ãƒ¼ã‚¿ã¯ãƒ­ãƒ¼ã‚«ãƒ«ä¿å­˜ã®ã¿ã€å¤–éƒ¨é€ä¿¡ãªã— |
| ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ | åˆæœŸèµ·å‹•3ç§’ä»¥å†…ã€ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆèª­ã¿è¾¼ã¿1ç§’ä»¥å†… |

---

## 6. æŠ€è¡“é¸å®šç†ç”±

| é …ç›® | æ¡ç”¨æŠ€è¡“ | ç†ç”± |
|------|-----------|------|
| é–‹ç™ºè¨€èª | Swift | Appleå…¬å¼æ¨å¥¨ã€WidgetKitå¯¾å¿œå¿…é ˆ |
| UI | SwiftUI | å®£è¨€çš„UIæ§‹ç¯‰ãŒå®¹æ˜“ã€ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼å³æ™‚åæ˜  |
| ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆæ‹¡å¼µ | WidgetKit | iOSæ¨™æº–ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆå®Ÿè£…ã«å¿…é ˆ |
| ãƒ‡ãƒ¼ã‚¿ä¿å­˜ | CoreData / App Group | è¤‡æ•°ãƒšãƒƒãƒˆå¯¾å¿œã¨ãƒ‡ãƒ¼ã‚¿å…±æœ‰ã«æœ€é© |
| å†™çœŸç®¡ç† | PhotosPicker | å®‰å…¨ãªã‚¢ã‚¯ã‚»ã‚¹ç®¡ç†(iOS16+) |
| è¨­å®šä¿æŒ | AppStorage / UserDefaults | è»½é‡ãªãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®šåæ˜  |
| å¹´é½¢è¨ˆç®— | Calendar API | é«˜ç²¾åº¦ãªå¹´æœˆå·®ç®—å‡º |
| äººé–“æ›ç®— | ã‚«ã‚¹ã‚¿ãƒ ãƒ­ã‚¸ãƒƒã‚¯ | ç¨®åˆ¥åˆ¥æ›ç®—å¼ã‚’æŸ”è»Ÿã«æ‹¡å¼µå¯èƒ½ |

---

## 7. ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«

```swift
struct Pet: Identifiable, Codable {
    var id: UUID
    var name: String
    var birthDate: Date
    var species: PetType // .dog / .cat / .other
    var photoData: Data?
}

enum PetType: String, Codable {
    case dog, cat, other
}
```

### å¹´é½¢æ›ç®—ãƒ­ã‚¸ãƒƒã‚¯(ä¾‹)

```swift
func humanAge(for pet: Pet, realAge: Double) -> Int {
    switch pet.species {
    case .dog, .cat:
        return Int(24 + max(0, (realAge - 2)) * 4)
    default:
        return Int(realAge * 5)
    }
}
```

---

## 8. ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºè¨­å®šä»•æ§˜

| è¨­å®šé …ç›® | å‹ | èª¬æ˜ |
|----------|-----|------|
| è¡¨ç¤ºé …ç›® | [String: Bool] | åå‰ãƒ»å¹´é½¢ãªã©ã®è¡¨ç¤ºON/OFF |
| ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º | Double | ãƒ”ã‚¯ã‚»ãƒ«å˜ä½ã§èª¿æ•´å¯èƒ½ |
| ãƒ•ã‚©ãƒ³ãƒˆã‚«ãƒ©ãƒ¼ | String(hex) | ã‚«ãƒ©ãƒ¼ãƒ”ãƒƒã‚«ãƒ¼ã§æŒ‡å®š |
| å†™çœŸæ å½¢çŠ¶ | Enum(circle, roundedRect) | æ ãƒ‡ã‚¶ã‚¤ãƒ³é¸æŠ |
| èƒŒæ™¯ãƒ†ãƒ¼ãƒ | Enum(light, dark, customColor, photo) | èƒŒæ™¯è¨­å®š |

---

## 9. ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒ»ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¦ä»¶

- å†™çœŸãƒ»è¨­å®šãƒ‡ãƒ¼ã‚¿ã¯ç«¯æœ«å†…ãƒ­ãƒ¼ã‚«ãƒ«ä¿å­˜
- ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯é€šä¿¡ã¯è¡Œã‚ãªã„
- ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ã‚’App Storeã«æ˜è¨˜
- App Groupã®åˆ©ç”¨ç¯„å›²ã¯åŒä¸€é–‹ç™ºè€…ç½²åå†…ã«é™å®š

---

## 10. é–‹ç™ºãƒ•ã‚§ãƒ¼ã‚º

### Phase 1: åŸºæœ¬å®Ÿè£…
- [ ] ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸè¨­å®š
- [ ] ãƒšãƒƒãƒˆç™»éŒ²ç”»é¢å®Ÿè£…
- [ ] åŸºæœ¬ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆè¡¨ç¤º(Medium)
- [ ] å¹´é½¢è¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯å®Ÿè£…

### Phase 2: ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ©Ÿèƒ½
- [ ] ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆç·¨é›†æ©Ÿèƒ½
- [ ] ãƒ†ãƒ¼ãƒè¨­å®šæ©Ÿèƒ½
- [ ] è¤‡æ•°ã‚µã‚¤ã‚ºå¯¾å¿œ(Small/Large)

### Phase 3: æ‹¡å¼µæ©Ÿèƒ½
- [ ] å¤šé ­å¯¾å¿œ
- [ ] ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆè¨­å®šå€‹åˆ¥åŒ–
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

### Phase 4: ãƒªãƒªãƒ¼ã‚¹æº–å‚™
- [ ] ãƒ†ã‚¹ãƒˆãƒ»ãƒ‡ãƒãƒƒã‚°
- [ ] App Storeç”³è«‹æº–å‚™
- [ ] ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ•´å‚™

---

## 11. å‚è€ƒãƒªã‚½ãƒ¼ã‚¹

- [WidgetKit | Apple Developer Documentation](https://developer.apple.com/documentation/widgetkit)
- [SwiftUI | Apple Developer Documentation](https://developer.apple.com/documentation/swiftui)
- [App Groups | Apple Developer Documentation](https://developer.apple.com/documentation/bundleresources/entitlements/com_apple_security_application-groups)
